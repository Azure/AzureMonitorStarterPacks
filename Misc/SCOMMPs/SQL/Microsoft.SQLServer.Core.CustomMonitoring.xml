<ManagementPack SchemaVersion="2.0" ContentReadable="true" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Manifest>
    <Identity>
      <ID>Microsoft.SQLServer.Core.CustomMonitoring</ID>
      <Version>7.0.42.0</Version>
    </Identity>
    <Name>Microsoft.SQLServer.Core.CustomMonitoring</Name>
    <References>
      <Reference Alias="SCDW">
        <ID>Microsoft.SystemCenter.DataWarehouse.Library</ID>
        <Version>7.1.10226.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="SC">
        <ID>Microsoft.SystemCenter.Library</ID>
        <Version>7.0.8433.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="Health">
        <ID>System.Health.Library</ID>
        <Version>7.0.8433.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="System">
        <ID>System.Library</ID>
        <Version>7.5.8501.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="Visualization">
        <ID>Microsoft.SystemCenter.Visualization.Library</ID>
        <Version>7.1.10226.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="SystemPerf">
        <ID>System.Performance.Library</ID>
        <Version>7.0.8433.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
      <Reference Alias="SqlCoreLib">
        <ID>Microsoft.SQLServer.Core.Library</ID>
        <Version>7.0.42.0</Version>
        <PublicKeyToken>31bf3856ad364e35</PublicKeyToken>
      </Reference>
    </References>
  </Manifest>
  <TypeDefinitions>
    <SchemaTypes>
      <SchemaType ID="Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes" Accessibility="Public">
        <xsd:complexType name="SerializableItem" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <xsd:sequence>
            <xsd:element name="Name" type="xsd:string" minOccurs="1" maxOccurs="1" />
            <xsd:element name="TypeName" type="xsd:string" minOccurs="1" maxOccurs="1" />
            <xsd:element name="Config" type="xsd:string" minOccurs="1" maxOccurs="1" />
          </xsd:sequence>
        </xsd:complexType>
        <xsd:complexType name="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <xsd:sequence>
            <xsd:element name="Condition" type="SerializableItem" minOccurs="0" maxOccurs="unbounded">
              <!--<xsd:unique name="UniqueCondition">
                <xsd:selector xpath="Condition"/>
                <xsd:field xpath="Name"/>
              </xsd:unique>-->
            </xsd:element>
          </xsd:sequence>
        </xsd:complexType>
        <xsd:complexType name="PerfCounters" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <xsd:sequence>
            <xsd:element name="PerfCounter" type="SerializableItem" minOccurs="1" maxOccurs="unbounded" />
          </xsd:sequence>
        </xsd:complexType>
      </SchemaType>
    </SchemaTypes>
    <ModuleTypes>
      <DataSourceModuleType ID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" Accessibility="Public" RunAs="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.Monitoring">
        <Configuration>
          <IncludeSchemaTypes>
            <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
          </IncludeSchemaTypes>
          <xsd:element name="MachineName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="NetbiosComputerName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConnectionString" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceVersion" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceEdition" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="RuleName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="PerfCounters" type="PerfCounters" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlExecTimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlTimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="TimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="IntervalSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SyncTime" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        </Configuration>
        <OverrideableParameters>
          <OverrideableParameter ID="IntervalSeconds" ParameterType="int" Selector="$Config/IntervalSeconds$" />
          <OverrideableParameter ID="SyncTime" ParameterType="string" Selector="$Config/SyncTime$" />
          <OverrideableParameter ID="TimeoutSeconds" ParameterType="int" Selector="$Config/TimeoutSeconds$" />
          <OverrideableParameter ID="SqlExecTimeoutSeconds" ParameterType="int" Selector="$Config/SqlExecTimeoutSeconds$" />
          <OverrideableParameter ID="SqlTimeoutSeconds" ParameterType="int" Selector="$Config/SqlTimeoutSeconds$" />
        </OverrideableParameters>
        <ModuleImplementation>
          <Composite>
            <MemberModules>
              <DataSource ID="Trigger" TypeID="System!System.Scheduler">
                <Scheduler>
                  <SimpleReccuringSchedule>
                    <Interval>$Config/IntervalSeconds$</Interval>
                    <SyncTime>$Config/SyncTime$</SyncTime>
                  </SimpleReccuringSchedule>
                  <ExcludeDates />
                </Scheduler>
              </DataSource>
              <ProbeAction ID="Probe" TypeID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryPerfCollection">
                <MachineName>$Config/MachineName$</MachineName>
                <NetbiosComputerName>$Config/NetbiosComputerName$</NetbiosComputerName>
                <InstanceName>$Config/InstanceName$</InstanceName>
                <ConnectionString>$Config/ConnectionString$</ConnectionString>
                <InstanceVersion>$Config/InstanceVersion$</InstanceVersion>
                <InstanceEdition>$Config/InstanceEdition$</InstanceEdition>
                <MonitoringType>$Config/MonitoringType$</MonitoringType>
                <RuleName>$Config/RuleName$</RuleName>
                <DatabaseName>$Config/DatabaseName$</DatabaseName>
                <SqlQuery>$Config/SqlQuery$</SqlQuery>
                <PerfCounters>$Config/PerfCounters$</PerfCounters>
                <Login>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/UserName$</Login>
                <Password>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/Password$</Password>
                <SqlExecTimeoutSeconds>$Config/SqlExecTimeoutSeconds$</SqlExecTimeoutSeconds>
                <SqlTimeoutSeconds>$Config/SqlTimeoutSeconds$</SqlTimeoutSeconds>
                <TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds>
                <Publisher>$Config/Publisher$</Publisher>
                <ManagementGroupName>$Target/ManagementGroup/Name$</ManagementGroupName>
              </ProbeAction>
              <ConditionDetection ID="PerfMapper" TypeID="SystemPerf!System.Performance.DataGenericMapper">
                <ObjectName>$Data/Property[@Name='Object']$</ObjectName>
                <CounterName>$Data/Property[@Name='Name']$</CounterName>
                <InstanceName>$Data/Property[@Name='Instance']$</InstanceName>
                <Value>$Data/Property[@Name='Value']$</Value>
              </ConditionDetection>
            </MemberModules>
            <Composition>
              <Node ID="PerfMapper">
                <Node ID="Probe">
                  <Node ID="Trigger" />
                </Node>
              </Node>
            </Composition>
          </Composite>
        </ModuleImplementation>
        <OutputType>SystemPerf!System.Performance.Data</OutputType>
      </DataSourceModuleType>
      <ProbeActionModuleType ID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryMonitor" Accessibility="Internal" Batching="false">
        <Configuration>
          <IncludeSchemaTypes>
            <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
          </IncludeSchemaTypes>
          <xsd:element name="MachineName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="NetbiosComputerName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConnectionString" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceVersion" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceEdition" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitorName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="WarningConditions" minOccurs="0" maxOccurs="1" type="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="WarningConditionPredicate" minOccurs="0" maxOccurs="1" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="CriticalConditions" minOccurs="0" maxOccurs="1" type="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="CriticalConditionPredicate" minOccurs="0" maxOccurs="1" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Login" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Password" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlExecTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="TimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ManagementGroupName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        </Configuration>
        <ModuleImplementation>
          <Managed>
            <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.Assembly</Assembly>
            <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.Modules.CustomQueryMonitor</Type>
          </Managed>
        </ModuleImplementation>
        <OutputType>System!System.PropertyBagData</OutputType>
        <InputType>System!System.BaseData</InputType>
      </ProbeActionModuleType>
      <ProbeActionModuleType ID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryPerfCollection" Accessibility="Internal" Batching="false">
        <Configuration>
          <IncludeSchemaTypes>
            <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
          </IncludeSchemaTypes>
          <xsd:element name="MachineName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="NetbiosComputerName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConnectionString" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceVersion" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceEdition" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="RuleName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="PerfCounters" type="PerfCounters" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Login" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Password" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlExecTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="TimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ManagementGroupName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        </Configuration>
        <ModuleImplementation>
          <Managed>
            <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.Assembly</Assembly>
            <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.Modules.DBEngineCustomQueryPerfCollection</Type>
          </Managed>
        </ModuleImplementation>
        <OutputType>System!System.PropertyBagData</OutputType>
        <InputType>System!System.BaseData</InputType>
      </ProbeActionModuleType>
      <WriteActionModuleType ID="CustomMonitoring.PlaceHolder" Accessibility="Internal" Batching="false">
        <Configuration />
        <OverrideableParameters></OverrideableParameters>
        <ModuleImplementation Isolation="Any">
          <Composite>
            <MemberModules>
              <WriteAction ID="WA1" TypeID="SCDW!Microsoft.SystemCenter.DataWarehouse.PublishPerformanceData" />
            </MemberModules>
            <Composition>
              <Node ID="WA1" />
            </Composition>
          </Composite>
        </ModuleImplementation>
        <InputType>SystemPerf!System.Performance.Data</InputType>
      </WriteActionModuleType>
    </ModuleTypes>
    <MonitorTypes>
      <UnitMonitorType ID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" Accessibility="Public" RunAs="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.Monitoring">
        <MonitorTypeStates>
          <MonitorTypeState ID="Passed" NoDetection="false" />
          <MonitorTypeState ID="WarningFailed" NoDetection="false" />
          <MonitorTypeState ID="CriticalFailed" NoDetection="false" />
        </MonitorTypeStates>
        <Configuration>
          <IncludeSchemaTypes>
            <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
          </IncludeSchemaTypes>
          <xsd:element name="MachineName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="NetbiosComputerName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConnectionString" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceVersion" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceEdition" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitorName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="WarningConditions" type="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="WarningConditionPredicate" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="CriticalConditions" type="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="CriticalConditionPredicate" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlExecTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="TimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="IntervalSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SyncTime" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        </Configuration>
        <OverrideableParameters>
          <OverrideableParameter ID="SqlExecTimeoutSeconds" Selector="$Config/SqlExecTimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="SqlTimeoutSeconds" Selector="$Config/SqlTimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" />
          <OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" />
        </OverrideableParameters>
        <MonitorImplementation>
          <MemberModules>
            <DataSource ID="Scheduler" TypeID="System!System.SimpleScheduler">
              <IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds>
              <SyncTime>$Config/SyncTime$</SyncTime>
            </DataSource>
            <ProbeAction ID="CustomQuery" TypeID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryMonitor">
              <MachineName>$Config/MachineName$</MachineName>
              <NetbiosComputerName>$Config/NetbiosComputerName$</NetbiosComputerName>
              <InstanceName>$Config/InstanceName$</InstanceName>
              <ConnectionString>$Config/ConnectionString$</ConnectionString>
              <InstanceVersion>$Config/InstanceVersion$</InstanceVersion>
              <InstanceEdition>$Config/InstanceEdition$</InstanceEdition>
              <MonitoringType>$Config/MonitoringType$</MonitoringType>
              <MonitorName>$Config/MonitorName$</MonitorName>
              <DatabaseName>$Config/DatabaseName$</DatabaseName>
              <SqlQuery>$Config/SqlQuery$</SqlQuery>
              <WarningConditions>$Config/WarningConditions$</WarningConditions>
              <WarningConditionPredicate>$Config/WarningConditionPredicate$</WarningConditionPredicate>
              <CriticalConditions>$Config/CriticalConditions$</CriticalConditions>
              <CriticalConditionPredicate>$Config/CriticalConditionPredicate$</CriticalConditionPredicate>
              <Login>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/UserName$</Login>
              <Password>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/Password$</Password>
              <SqlExecTimeoutSeconds>$Config/SqlExecTimeoutSeconds$</SqlExecTimeoutSeconds>
              <SqlTimeoutSeconds>$Config/SqlTimeoutSeconds$</SqlTimeoutSeconds>
              <TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds>
              <Publisher>$Config/Publisher$</Publisher>
              <ManagementGroupName>$Target/ManagementGroup/Name$</ManagementGroupName>
            </ProbeAction>
            <ConditionDetection ID="PassedCondition" TypeID="System!System.ExpressionFilter">
              <Expression>
                <SimpleExpression>
                  <ValueExpression>
                    <XPathQuery Type="String">Property[@Name='Result']</XPathQuery>
                  </ValueExpression>
                  <Operator>Equal</Operator>
                  <ValueExpression>
                    <Value Type="String">Passed</Value>
                  </ValueExpression>
                </SimpleExpression>
              </Expression>
            </ConditionDetection>
            <ConditionDetection ID="WarningFailedCondition" TypeID="System!System.ExpressionFilter">
              <Expression>
                <SimpleExpression>
                  <ValueExpression>
                    <XPathQuery Type="String">Property[@Name='Result']</XPathQuery>
                  </ValueExpression>
                  <Operator>Equal</Operator>
                  <ValueExpression>
                    <Value Type="String">Warning</Value>
                  </ValueExpression>
                </SimpleExpression>
              </Expression>
            </ConditionDetection>
            <ConditionDetection ID="CriticalFailedCondition" TypeID="System!System.ExpressionFilter">
              <Expression>
                <SimpleExpression>
                  <ValueExpression>
                    <XPathQuery Type="String">Property[@Name='Result']</XPathQuery>
                  </ValueExpression>
                  <Operator>Equal</Operator>
                  <ValueExpression>
                    <Value Type="String">Critical</Value>
                  </ValueExpression>
                </SimpleExpression>
              </Expression>
            </ConditionDetection>
          </MemberModules>
          <RegularDetections>
            <RegularDetection MonitorTypeStateID="Passed">
              <Node ID="PassedCondition">
                <Node ID="CustomQuery">
                  <Node ID="Scheduler" />
                </Node>
              </Node>
            </RegularDetection>
            <RegularDetection MonitorTypeStateID="WarningFailed">
              <Node ID="WarningFailedCondition">
                <Node ID="CustomQuery">
                  <Node ID="Scheduler" />
                </Node>
              </Node>
            </RegularDetection>
            <RegularDetection MonitorTypeStateID="CriticalFailed">
              <Node ID="CriticalFailedCondition">
                <Node ID="CustomQuery">
                  <Node ID="Scheduler" />
                </Node>
              </Node>
            </RegularDetection>
          </RegularDetections>
        </MonitorImplementation>
      </UnitMonitorType>
      <UnitMonitorType ID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" Accessibility="Public" RunAs="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.Monitoring">
        <MonitorTypeStates>
          <MonitorTypeState ID="Passed" NoDetection="false" />
          <MonitorTypeState ID="Failed" NoDetection="false" />
        </MonitorTypeStates>
        <Configuration>
          <IncludeSchemaTypes>
            <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
          </IncludeSchemaTypes>
          <xsd:element name="MachineName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="NetbiosComputerName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConnectionString" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceVersion" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="InstanceEdition" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="MonitorName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Conditions" type="TestConditionsType" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="ConditionPredicate" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlExecTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SqlTimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="TimeoutSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="IntervalSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="SyncTime" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
          <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        </Configuration>
        <OverrideableParameters>
          <OverrideableParameter ID="SqlExecTimeoutSeconds" Selector="$Config/SqlExecTimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="SqlTimeoutSeconds" Selector="$Config/SqlTimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" />
          <OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" />
          <OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" />
        </OverrideableParameters>
        <MonitorImplementation>
          <MemberModules>
            <DataSource ID="Scheduler" TypeID="System!System.SimpleScheduler">
              <IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds>
              <SyncTime>$Config/SyncTime$</SyncTime>
            </DataSource>
            <ProbeAction ID="CustomQuery" TypeID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryMonitor">
              <MachineName>$Config/MachineName$</MachineName>
              <NetbiosComputerName>$Config/NetbiosComputerName$</NetbiosComputerName>
              <InstanceName>$Config/InstanceName$</InstanceName>
              <ConnectionString>$Config/ConnectionString$</ConnectionString>
              <InstanceVersion>$Config/InstanceVersion$</InstanceVersion>
              <InstanceEdition>$Config/InstanceEdition$</InstanceEdition>
              <MonitoringType>$Config/MonitoringType$</MonitoringType>
              <MonitorName>$Config/MonitorName$</MonitorName>
              <DatabaseName>$Config/DatabaseName$</DatabaseName>
              <SqlQuery>$Config/SqlQuery$</SqlQuery>
              <CriticalConditions>$Config/Conditions$</CriticalConditions>
              <CriticalConditionPredicate>$Config/ConditionPredicate$</CriticalConditionPredicate>
              <Login>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/UserName$</Login>
              <Password>$RunAs[Name="SqlCoreLib!Microsoft.SQLServer.Core.RunAs.SqlCredentials"]/Password$</Password>
              <SqlExecTimeoutSeconds>$Config/SqlExecTimeoutSeconds$</SqlExecTimeoutSeconds>
              <SqlTimeoutSeconds>$Config/SqlTimeoutSeconds$</SqlTimeoutSeconds>
              <TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds>
              <Publisher>$Config/Publisher$</Publisher>
              <ManagementGroupName>$Target/ManagementGroup/Name$</ManagementGroupName>
            </ProbeAction>
            <ConditionDetection ID="PassedCondition" TypeID="System!System.ExpressionFilter">
              <Expression>
                <SimpleExpression>
                  <ValueExpression>
                    <XPathQuery Type="String">Property[@Name='Result']</XPathQuery>
                  </ValueExpression>
                  <Operator>Equal</Operator>
                  <ValueExpression>
                    <Value Type="String">Passed</Value>
                  </ValueExpression>
                </SimpleExpression>
              </Expression>
            </ConditionDetection>
            <ConditionDetection ID="FailedCondition" TypeID="System!System.ExpressionFilter">
              <Expression>
                <SimpleExpression>
                  <ValueExpression>
                    <XPathQuery Type="String">Property[@Name='Result']</XPathQuery>
                  </ValueExpression>
                  <Operator>Equal</Operator>
                  <ValueExpression>
                    <Value Type="String">Critical</Value>
                  </ValueExpression>
                </SimpleExpression>
              </Expression>
            </ConditionDetection>
          </MemberModules>
          <RegularDetections>
            <RegularDetection MonitorTypeStateID="Passed">
              <Node ID="PassedCondition">
                <Node ID="CustomQuery">
                  <Node ID="Scheduler" />
                </Node>
              </Node>
            </RegularDetection>
            <RegularDetection MonitorTypeStateID="Failed">
              <Node ID="FailedCondition">
                <Node ID="CustomQuery">
                  <Node ID="Scheduler" />
                </Node>
              </Node>
            </RegularDetection>
          </RegularDetections>
        </MonitorImplementation>
      </UnitMonitorType>
    </MonitorTypes>
  </TypeDefinitions>
  <Categories>
    <Category ID="Microsoft.SqlServer.Core.CustomMonitoring.Category.ScomPages" Target="Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly" Value="Visualization!Microsoft.SystemCenter.Visualization.WindowsAssembly" />
  </Categories>
  <Templates>
    <Template ID="Microsoft.SqlServer.Core.CustomMonitoring.RuleTemplate.DBEngine.CustomQueryPerfCollection" Purpose="RuleCreation">
      <Configuration>
        <IncludeSchemaTypes>
          <SchemaType>Microsoft.SqlServer.Core.CustomMonitoring.Schema.CustomQueryTypes</SchemaType>
        </IncludeSchemaTypes>
        <xsd:element name="ID" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Name" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Enabled" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Description" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Target" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Category" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="LocaleId" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="MonitoringType" type="xsd:string" minOccurs="0" maxOccurs="1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="DatabaseName" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="SqlQuery" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="PerfCounters" type="PerfCounters" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="SqlExecTimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="SqlTimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="TimeoutSeconds" type="xsd:int" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="IntervalSeconds" type="xsd:integer" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="SyncTime" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
        <xsd:element name="Publisher" type="xsd:string" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
      </Configuration>
      <References>
        <Reference ID="System" />
        <Reference ID="SqlCoreLib" />
        <Reference ID="SC" />
        <Reference ID="SCDW" />
        <Reference ID="Self" />
      </References>
      <Implementation>
        <Monitoring>
          <Rules>
            <Rule ID="$TemplateConfig/ID$" Target="$TemplateConfig/Target$" Enabled="$TemplateConfig/Enabled$">
              <Category>$TemplateConfig/Category$</Category>
              <DataSources>
                <DataSource ID="DS" TypeID="$Reference/Self$Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection">
                  <MachineName>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/MachineName$</MachineName>
                  <NetbiosComputerName>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/NetbiosComputerName$</NetbiosComputerName>
                  <InstanceName>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/InstanceName$</InstanceName>
                  <ConnectionString>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/ConnectionString$</ConnectionString>
                  <InstanceVersion>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/Version$</InstanceVersion>
                  <InstanceEdition>$Target/Property[Type="$Reference/SqlCoreLib$Microsoft.SQLServer.Core.DBEngine"]/Edition$</InstanceEdition>
                  <MonitoringType>$TemplateConfig/MonitoringType$</MonitoringType>
                  <RuleName>$TemplateConfig/Name$</RuleName>
                  <DatabaseName>$TemplateConfig/DatabaseName$</DatabaseName>
                  <SqlQuery>$TemplateConfig/SqlQuery$</SqlQuery>
                  <PerfCounters>$TemplateConfig/PerfCounters$</PerfCounters>
                  <SqlExecTimeoutSeconds>$TemplateConfig/SqlExecTimeoutSeconds$</SqlExecTimeoutSeconds>
                  <SqlTimeoutSeconds>$TemplateConfig/SqlTimeoutSeconds$</SqlTimeoutSeconds>
                  <TimeoutSeconds>$TemplateConfig/TimeoutSeconds$</TimeoutSeconds>
                  <IntervalSeconds>$TemplateConfig/IntervalSeconds$</IntervalSeconds>
                  <SyncTime>$TemplateConfig/SyncTime$</SyncTime>
                  <Publisher>$TemplateConfig/Publisher$</Publisher>
                </DataSource>
              </DataSources>
              <WriteActions>
                <WriteAction ID="WriteToDB" TypeID="$Reference/SC$Microsoft.SystemCenter.CollectPerformanceData" />
                <WriteAction ID="WriteToDW" TypeID="$Reference/SCDW$Microsoft.SystemCenter.DataWarehouse.PublishPerformanceData" />
              </WriteActions>
            </Rule>
          </Rules>
        </Monitoring>
        <LanguagePacks>
          <LanguagePack ID="$TemplateConfig/LocaleId$" IsDefault="true">
            <DisplayStrings>
              <DisplayString ElementID="$TemplateConfig/ID$">
                <Name>$TemplateConfig/Name$</Name>
                <Description>$TemplateConfig/Description$</Description>
              </DisplayString>
            </DisplayStrings>
          </LanguagePack>
        </LanguagePacks>
      </Implementation>
    </Template>
  </Templates>
  <PresentationTypes>
    <UIPages>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.MonitorGeneralPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQueryMonitorPage</Type>
        </Implementation>
      </UIPage>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.SqlQueryPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQuerySqlQueryPage</Type>
        </Implementation>
      </UIPage>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.TestConditionsPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQueryTestConditionsPage</Type>
        </Implementation>
      </UIPage>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.AlertingPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQueryAlertConfiguration</Type>
        </Implementation>
      </UIPage>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.DBEngineRuleGeneralPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQueryDBEngineRuleGeneralPage</Type>
        </Implementation>
      </UIPage>
      <UIPage ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.PerfCounterPage" Accessibility="Internal">
        <Implementation>
          <Assembly>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly</Assembly>
          <Type>Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Pages.CustomQueryPerfCounterPage</Type>
        </Implementation>
      </UIPage>
    </UIPages>
    <UIPageSets>
      <UIPageSet ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.DBEngineCustomQueryPerfCollection" TypeDefinitionID="Microsoft.SqlServer.Core.CustomMonitoring.RuleTemplate.DBEngine.CustomQueryPerfCollection">
        <UIPageReferences>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.DBEngineCustomQueryPerfCollection.PageReference1" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.DBEngineRuleGeneralPage" Usage="CreationOnly">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Category">
                    <xsl:copy>PerformanceCollection</xsl:copy>
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.DBEngineCustomQueryPerfCollection.Reference2" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.SqlQueryPage" Usage="CreationAndUpdate">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="DatabaseName" />
                    <xsl:copy-of select="SqlQuery" />
                    <xsl:copy-of select="TimeoutSeconds" />
                    <xsl:copy-of select="SqlTimeoutSeconds" />
                    <xsl:copy-of select="SqlExecTimeoutSeconds" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.DBEngineCustomQueryPerfCollection.PageReference3" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.PerfCounterPage">
            <InputParameters />
            <InputTransform></InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.DBEngineCustomQueryPerfCollection.Reference4" PageID="System!System.SimpleSchedulerPage">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="SimpleReccuringSchedule">
                    <xsl:element name="Interval">
                      <xsl:choose>
                        <xsl:when test="IntervalSeconds">
                          <xsl:value-of select="IntervalSeconds" />
                        </xsl:when>
                        <xsl:otherwise>900</xsl:otherwise>
                      </xsl:choose>
                    </xsl:element>
                    <xsl:if test="boolean(string-length(SyncTime))">
                      <xsl:copy-of select="SyncTime" />
                    </xsl:if>
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
        </UIPageReferences>
        <OutputTransform>
          <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
            <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
            <xsl:template match="/">
              <xsl:element name="Configuration">
                <xsl:copy-of select="/ID" />
                <xsl:copy-of select="/Name" />
                <xsl:copy-of select="/Enabled" />
                <xsl:copy-of select="/Description" />
                <xsl:copy-of select="/Target" />
                <xsl:copy-of select="/Category" />
                <xsl:copy-of select="/LocaleId" />
                <xsl:if test="/PropertyReferenceMonitoringType">
                  <xsl:element name="MonitoringType">
                    <xsl:value-of select="/PropertyReferenceMonitoringType" />
                  </xsl:element>
                </xsl:if>
                <xsl:copy-of select="/DatabaseName" />
                <xsl:copy-of select="/SqlQuery" />
                <xsl:copy-of select="/PerfCounters" />
                <xsl:copy-of select="/SqlExecTimeoutSeconds" />
                <xsl:copy-of select="/SqlTimeoutSeconds" />
                <xsl:copy-of select="/TimeoutSeconds" />
                <xsl:element name="IntervalSeconds">
                  <xsl:variable name="RawInterval" select="/SimpleReccuringSchedule/Interval" />
                  <xsl:variable name="Units" select="/SimpleReccuringSchedule/Interval/@Unit" />
                  <xsl:choose>
                    <xsl:when test="not(boolean($Units)) or $Units='Seconds'">
                      <xsl:value-of select="$RawInterval" />
                    </xsl:when>
                    <xsl:when test="$Units='Minutes'">
                      <xsl:value-of select="$RawInterval*60" />
                    </xsl:when>
                    <xsl:when test="$Units='Hours'">
                      <xsl:value-of select="$RawInterval*3600" />
                    </xsl:when>
                    <xsl:when test="$Units='Days'">
                      <xsl:value-of select="$RawInterval*86400" />
                    </xsl:when>
                  </xsl:choose>
                </xsl:element>
                <xsl:element name="SyncTime">
                  <xsl:value-of select="/SimpleReccuringSchedule/SyncTime" />
                </xsl:element>
                <xsl:element name="Publisher">
                  <xsl:value-of select="/PropertyReferencePublisher" />
                </xsl:element>
              </xsl:element>
            </xsl:template>
          </xsl:stylesheet>
        </OutputTransform>
      </UIPageSet>
      <UIPageSet ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor" TypeDefinitionID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState">
        <UIPageReferences>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference1" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.MonitorGeneralPage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference2" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.SqlQueryPage">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="DatabaseName" />
                    <xsl:copy-of select="SqlQuery" />
                    <xsl:copy-of select="TimeoutSeconds" />
                    <xsl:copy-of select="SqlTimeoutSeconds" />
                    <xsl:copy-of select="SqlExecTimeoutSeconds" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference3" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.TestConditionsPage">
            <InputParameters>
              <ConditionsElementName>WarningConditions</ConditionsElementName>
              <ConditionPredicateElementName>WarningConditionPredicate</ConditionPredicateElementName>
            </InputParameters>
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="WarningConditions" />
                    <xsl:copy-of select="WarningConditionPredicate" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
            <Title ID="Title" />
            <SubTitle ID="SubTitle" />
            <TabName ID="TabName" />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference4" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.TestConditionsPage">
            <InputParameters>
              <ConditionsElementName>CriticalConditions</ConditionsElementName>
              <ConditionPredicateElementName>CriticalConditionPredicate</ConditionPredicateElementName>
            </InputParameters>
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="CriticalConditions" />
                    <xsl:copy-of select="CriticalConditionPredicate" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
            <Title ID="Title" />
            <SubTitle ID="SubTitle" />
            <TabName ID="TabName" />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference5" PageID="System!System.SimpleSchedulerPage">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="SimpleReccuringSchedule">
                    <xsl:element name="Interval">
                      <xsl:choose>
                        <xsl:when test="IntervalSeconds">
                          <xsl:value-of select="IntervalSeconds" />
                        </xsl:when>
                        <xsl:otherwise>900</xsl:otherwise>
                      </xsl:choose>
                    </xsl:element>
                    <xsl:if test="boolean(string-length(SyncTime))">
                      <xsl:copy-of select="SyncTime" />
                    </xsl:if>
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference6" PageID="Health!System.Health.OperationalStatesConfigPage">
            <InputParameters>
              <CriticalFailed>Error</CriticalFailed>
              <WarningFailed>Warning</WarningFailed>
              <Passed>Success</Passed>
            </InputParameters>
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference7" PageID="Health!System.Health.ProductKnowledgePage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference8" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.AlertingPage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
        </UIPageReferences>
        <OutputTransform>
          <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
            <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
            <xsl:template match="/">
              <xsl:element name="MachineName">
                <xsl:value-of select="/PropertyReferenceMachineName" />
              </xsl:element>
              <xsl:element name="NetbiosComputerName">
                <xsl:value-of select="/PropertyReferenceNetbiosComputerName" />
              </xsl:element>
              <xsl:element name="InstanceName">
                <xsl:value-of select="/PropertyReferenceInstanceName" />
              </xsl:element>
              <xsl:element name="ConnectionString">
                <xsl:value-of select="/PropertyReferenceConnectionString" />
              </xsl:element>
              <xsl:element name="InstanceVersion">
                <xsl:value-of select="/PropertyReferenceInstanceVersion" />
              </xsl:element>
              <xsl:element name="InstanceEdition">
                <xsl:value-of select="/PropertyReferenceInstanceEdition" />
              </xsl:element>
              <xsl:if test="/PropertyReferenceMonitoringType">
                <xsl:element name="MonitoringType">
                  <xsl:value-of select="/PropertyReferenceMonitoringType" />
                </xsl:element>
              </xsl:if>
              <xsl:copy-of select="/MonitorName" />
              <xsl:copy-of select="/DatabaseName" />
              <xsl:copy-of select="/SqlQuery" />
              <xsl:copy-of select="/WarningConditions" />
              <xsl:copy-of select="/WarningConditionPredicate" />
              <xsl:copy-of select="/CriticalConditions" />
              <xsl:copy-of select="/CriticalConditionPredicate" />
              <xsl:copy-of select="/SqlExecTimeoutSeconds" />
              <xsl:copy-of select="/SqlTimeoutSeconds" />
              <xsl:copy-of select="/TimeoutSeconds" />
              <xsl:element name="IntervalSeconds">
                <xsl:variable name="RawInterval" select="/SimpleReccuringSchedule/Interval" />
                <xsl:variable name="Units" select="/SimpleReccuringSchedule/Interval/@Unit" />
                <xsl:choose>
                  <xsl:when test="not(boolean($Units)) or $Units='Seconds'">
                    <xsl:value-of select="$RawInterval" />
                  </xsl:when>
                  <xsl:when test="$Units='Minutes'">
                    <xsl:value-of select="$RawInterval*60" />
                  </xsl:when>
                  <xsl:when test="$Units='Hours'">
                    <xsl:value-of select="$RawInterval*3600" />
                  </xsl:when>
                  <xsl:when test="$Units='Days'">
                    <xsl:value-of select="$RawInterval*86400" />
                  </xsl:when>
                </xsl:choose>
              </xsl:element>
              <xsl:element name="SyncTime">
                <xsl:value-of select="/SimpleReccuringSchedule/SyncTime" />
              </xsl:element>
              <xsl:element name="Publisher">
                <xsl:value-of select="/PropertyReferencePublisher" />
              </xsl:element>
            </xsl:template>
          </xsl:stylesheet>
        </OutputTransform>
      </UIPageSet>
      <UIPageSet ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor" TypeDefinitionID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState">
        <UIPageReferences>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference1" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.MonitorGeneralPage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference2" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.SqlQueryPage">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="DatabaseName" />
                    <xsl:copy-of select="SqlQuery" />
                    <xsl:copy-of select="TimeoutSeconds" />
                    <xsl:copy-of select="SqlTimeoutSeconds" />
                    <xsl:copy-of select="SqlExecTimeoutSeconds" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference3" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.TestConditionsPage">
            <InputParameters>
              <ConditionsElementName>Conditions</ConditionsElementName>
              <ConditionPredicateElementName>ConditionPredicate</ConditionPredicateElementName>
            </InputParameters>
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="Configuration">
                    <xsl:copy-of select="Conditions" />
                    <xsl:copy-of select="ConditionPredicate" />
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference4" PageID="System!System.SimpleSchedulerPage">
            <InputParameters />
            <InputTransform>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
                <xsl:template match="/">
                  <xsl:element name="SimpleReccuringSchedule">
                    <xsl:element name="Interval">
                      <xsl:choose>
                        <xsl:when test="IntervalSeconds">
                          <xsl:value-of select="IntervalSeconds" />
                        </xsl:when>
                        <xsl:otherwise>900</xsl:otherwise>
                      </xsl:choose>
                    </xsl:element>
                    <xsl:if test="boolean(string-length(SyncTime))">
                      <xsl:copy-of select="SyncTime" />
                    </xsl:if>
                  </xsl:element>
                </xsl:template>
              </xsl:stylesheet>
            </InputTransform>
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference5" PageID="Health!System.Health.OperationalStatesConfigPage">
            <InputParameters>
              <Failed>Error</Failed>
              <Passed>Success</Passed>
            </InputParameters>
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference6" PageID="Health!System.Health.ProductKnowledgePage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
          <UIPageReference ID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryTwoStateMonitor.Reference7" PageID="Microsoft.SqlServer.Core.CustomMonitoring.UIPage.AlertingPage">
            <InputParameters />
            <InputTransform />
          </UIPageReference>
        </UIPageReferences>
        <OutputTransform>
          <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
            <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
            <xsl:template match="/">
              <xsl:element name="MachineName">
                <xsl:value-of select="/PropertyReferenceMachineName" />
              </xsl:element>
              <xsl:element name="NetbiosComputerName">
                <xsl:value-of select="/PropertyReferenceNetbiosComputerName" />
              </xsl:element>
              <xsl:element name="InstanceName">
                <xsl:value-of select="/PropertyReferenceInstanceName" />
              </xsl:element>
              <xsl:element name="ConnectionString">
                <xsl:value-of select="/PropertyReferenceConnectionString" />
              </xsl:element>
              <xsl:element name="InstanceVersion">
                <xsl:value-of select="/PropertyReferenceInstanceVersion" />
              </xsl:element>
              <xsl:element name="InstanceEdition">
                <xsl:value-of select="/PropertyReferenceInstanceEdition" />
              </xsl:element>
              <xsl:if test="/PropertyReferenceMonitoringType">
                <xsl:element name="MonitoringType">
                  <xsl:value-of select="/PropertyReferenceMonitoringType" />
                </xsl:element>
              </xsl:if>
              <xsl:copy-of select="/MonitorName" />
              <xsl:copy-of select="/DatabaseName" />
              <xsl:copy-of select="/SqlQuery" />
              <xsl:copy-of select="/Conditions" />
              <xsl:copy-of select="/ConditionPredicate" />
              <xsl:copy-of select="/SqlExecTimeoutSeconds" />
              <xsl:copy-of select="/SqlTimeoutSeconds" />
              <xsl:copy-of select="/TimeoutSeconds" />
              <xsl:element name="IntervalSeconds">
                <xsl:variable name="RawInterval" select="/SimpleReccuringSchedule/Interval" />
                <xsl:variable name="Units" select="/SimpleReccuringSchedule/Interval/@Unit" />
                <xsl:choose>
                  <xsl:when test="not(boolean($Units)) or $Units='Seconds'">
                    <xsl:value-of select="$RawInterval" />
                  </xsl:when>
                  <xsl:when test="$Units='Minutes'">
                    <xsl:value-of select="$RawInterval*60" />
                  </xsl:when>
                  <xsl:when test="$Units='Hours'">
                    <xsl:value-of select="$RawInterval*3600" />
                  </xsl:when>
                  <xsl:when test="$Units='Days'">
                    <xsl:value-of select="$RawInterval*86400" />
                  </xsl:when>
                </xsl:choose>
              </xsl:element>
              <xsl:element name="SyncTime">
                <xsl:value-of select="/SimpleReccuringSchedule/SyncTime" />
              </xsl:element>
              <xsl:element name="Publisher">
                <xsl:value-of select="/PropertyReferencePublisher" />
              </xsl:element>
            </xsl:template>
          </xsl:stylesheet>
        </OutputTransform>
      </UIPageSet>
    </UIPageSets>
  </PresentationTypes>
  <Presentation>
    <Folders>
      <Folder ID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeRoot" Accessibility="Public" ParentFolder="SC!Microsoft.SystemCenter.Authoring.MonitorTypeFolder.Root" />
      <Folder ID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeDBEngine" Accessibility="Internal" ParentFolder="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeRoot" />
      <Folder ID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeRoot" Accessibility="Internal" ParentFolder="SC!Microsoft.SystemCenter.Authoring.RuleTypeFolder.Root" />
      <Folder ID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeDBEngine" Accessibility="Internal" ParentFolder="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeRoot" />
    </Folders>
    <FolderItems>
      <FolderItem ID="Microsoft.SqlServer.Core.CustomMonitoring.FolderItem.RuleTemplateDBEngineCustomQueryPerfCollection" ElementID="Microsoft.SqlServer.Core.CustomMonitoring.RuleTemplate.DBEngine.CustomQueryPerfCollection" Folder="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeDBEngine" />
      <FolderItem ID="Microsoft.SqlServer.Core.CustomMonitoring.FolderItem.UnitMonitorTypeCustomQueryThreeState" ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" Folder="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeDBEngine" />
      <FolderItem ID="Microsoft.SqlServer.Core.CustomMonitoring.FolderItem.UnitMonitorTypeCustomQueryTwoState" ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" Folder="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeDBEngine" />
    </FolderItems>
  </Presentation>
  <LanguagePacks>
    <LanguagePack ID="ENU" IsDefault="true">
      <DisplayStrings>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryMonitor">
          <Name>MSSQL: SQL Server Custom Query Probe</Name>
          <Description>This probe module executes custom SQL query and verifies the results against specified conditions.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.ProbeAction.DBEngineCustomQueryPerfCollection">
          <Name>MSSQL: SQL Server Custom Query Performance Collection Probe</Name>
          <Description>This probe module executes custom SQL query and produces performance counters according to the specified configuration.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection">
          <Name>MSSQL: SQL Server Custom Query Performance Collection Data Source</Name>
          <Description>This data source executes custom SQL query and produces performance counters according to the specified configuration</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" SubElementID="IntervalSeconds">
          <Name>Interval (seconds)</Name>
          <Description>The recurring interval of time in seconds in which to run the workflow.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" SubElementID="SyncTime">
          <Name>Synchronization Time</Name>
          <Description>The synchronization time specified by using a 24-hour format. May be omitted.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" SubElementID="TimeoutSeconds">
          <Name>Timeout (seconds)</Name>
          <Description>Specifies the time the workflow is allowed to run before being closed and marked as failed.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" SubElementID="SqlExecTimeoutSeconds">
          <Name>Timeout for query execution (seconds)</Name>
          <Description>The workflow will fail and register an event, if the query execution takes longer than the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.DataSource.DBEngineCustomQueryPerfCollection" SubElementID="SqlTimeoutSeconds">
          <Name>Timeout for database connection (seconds)</Name>
          <Description>The workflow will fail and register an event, if it cannot access the database during the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState">
          <Name>User-defined SQL Query Three-State Monitor</Name>
          <Description>Three-state monitor that executes a user-defined query in the target SQL Server DB Engine and compares the results against specified conditions.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="Passed">
          <Name>Passed</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="WarningFailed">
          <Name>Warning Conditions Failed</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="CriticalFailed">
          <Name>Critical Conditions Failed</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="IntervalSeconds">
          <Name>Interval (seconds)</Name>
          <Description>The recurring interval of time in seconds in which to run the workflow.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="SyncTime">
          <Name>Synchronization Time</Name>
          <Description>The synchronization time specified by using a 24-hour format. May be omitted.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="TimeoutSeconds">
          <Name>Timeout (seconds)</Name>
          <Description>Specifies the time the workflow is allowed to run before being closed and marked as failed.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="SqlExecTimeoutSeconds">
          <Name>Timeout for query execution (seconds)</Name>
          <Description>The workflow will fail and register an event, if the query execution takes longer than the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryThreeState" SubElementID="SqlTimeoutSeconds">
          <Name>Timeout for database connection (seconds)</Name>
          <Description>The workflow will fail and register an event, if it cannot access the database during the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState">
          <Name>User-defined SQL Query Two-State Monitor</Name>
          <Description>Two-state monitor that executes a user-defined query in the target SQL Server DB Engine and compares the results against specified conditions.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="Passed">
          <Name>Passed</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="Failed">
          <Name>Failed</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="IntervalSeconds">
          <Name>Interval (seconds)</Name>
          <Description>The recurring interval of time in seconds in which to run the workflow.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="SyncTime">
          <Name>Synchronization Time</Name>
          <Description>The synchronization time specified by using a 24-hour format. May be omitted.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="TimeoutSeconds">
          <Name>Timeout (seconds)</Name>
          <Description>Specifies the time the workflow is allowed to run before being closed and marked as failed.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="SqlExecTimeoutSeconds">
          <Name>Timeout for query execution (seconds)</Name>
          <Description>The workflow will fail and register an event, if the query execution takes longer than the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.MonitorType.DBEngine.CustomQueryTwoState" SubElementID="SqlTimeoutSeconds">
          <Name>Timeout for database connection (seconds)</Name>
          <Description>The workflow will fail and register an event, if it cannot access the database during the specified period.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SQLServer.Core.CustomMonitoring">
          <Name>Microsoft SQL Server Core Custom Monitoring</Name>
          <Description>This management pack enables custom monitoring for Microsoft SQL DB Engine.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.RuleTemplate.DBEngine.CustomQueryPerfCollection">
          <Name>User-defined SQL Query Performance Collection Rule</Name>
          <Description>Performance collection rule that executes a user-defined query in the target SQL Server DB Engine and collects a user-defined counter.</Description>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeRoot">
          <Name>Microsoft SQL Server</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlMonitorTypeDBEngine">
          <Name>DB Engine</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeRoot">
          <Name>Microsoft SQL Server</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.Folder.SqlRuleTypeDBEngine">
          <Name>DB Engine</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference3" SubElementID="Title">
          <Name>Warning Conditions</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference3" SubElementID="SubTitle">
          <Name>Warning Conditions</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference3" SubElementID="TabName">
          <Name>Warning Conditions</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference4" SubElementID="Title">
          <Name>Critical Conditions</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference4" SubElementID="SubTitle">
          <Name>Critical Conditions</Name>
        </DisplayString>
        <DisplayString ElementID="Microsoft.SqlServer.Core.CustomMonitoring.UIPageSet.CustomQueryThreeStateMonitor.Reference4" SubElementID="TabName">
          <Name>Critical Conditions</Name>
        </DisplayString>
      </DisplayStrings>
      <KnowledgeArticles>
        <KnowledgeArticle ElementID="Microsoft.SQLServer.Core.CustomMonitoring" Visible="true">
          <MamlContent>
            <maml:section xmlns:maml="http://schemas.microsoft.com/maml/2004/10">
              <maml:title>Summary</maml:title>
              <maml:para>Microsoft SQL Server Core Custom Monitoring Management Pack enables the monitoring of Microsoft SQL Server. This Management Pack depends on the Microsoft SQL Server Core Library Management Pack.</maml:para>
            </maml:section>
          </MamlContent>
        </KnowledgeArticle>
      </KnowledgeArticles>
    </LanguagePack>
  </LanguagePacks>
  <Resources>
    <Assembly QualifiedName="Microsoft.SQLServer.CustomMonitoring.Module.ScomPages, Version=7.0.42.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" FileName="Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.dll" ID="Microsoft.SQLServer.CustomMonitoring.Module.ScomPages.Assembly" Accessibility="Public" HasNullStream="false">
      <Dependency ID="Microsoft.SQLServer.CustomMonitoring.Module.Common.Assembly" />
      <Dependency ID="Newtonsoft.Json.Assembly" />
    </Assembly>
    <DeployableAssembly QualifiedName="Microsoft.SQLServer.CustomMonitoring.Module.Common, Version=7.0.42.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" FileName="Microsoft.SQLServer.CustomMonitoring.Module.Common.dll" ID="Microsoft.SQLServer.CustomMonitoring.Module.Common.Assembly" HasNullStream="false" Accessibility="Public"></DeployableAssembly>
    <DeployableAssembly QualifiedName="Microsoft.SQLServer.Core.Module.Helper, Version=7.0.42.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" FileName="Microsoft.SQLServer.Core.Module.Helper.dll" ID="Microsoft.SQLServer.Core.Module.Helper.Assembly" HasNullStream="false" Accessibility="Public">
      <Dependency ID="Microsoft.SQLServer.Module4.Helper.Assembly" />
    </DeployableAssembly>
    <DeployableAssembly QualifiedName="Microsoft.SQLServer.Module4.Helper, Version=7.0.42.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" FileName="Microsoft.SQLServer.Module4.Helper.dll" ID="Microsoft.SQLServer.Module4.Helper.Assembly" HasNullStream="false" Accessibility="Public"></DeployableAssembly>
    <DeployableAssembly QualifiedName="Newtonsoft.Json, Version=13.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed" FileName="Newtonsoft.Json.dll" ID="Newtonsoft.Json.Assembly" HasNullStream="false" Accessibility="Public"></DeployableAssembly>
    <DeployableAssembly QualifiedName="Microsoft.SQLServer.CustomMonitoring.Module.ScomModules, Version=7.0.42.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" FileName="Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.dll" ID="Microsoft.SQLServer.CustomMonitoring.Module.ScomModules.Assembly" HasNullStream="false" Accessibility="Public">
      <Dependency ID="Microsoft.SQLServer.Module4.Helper.Assembly" />
      <Dependency ID="Microsoft.SQLServer.Core.Module.Helper.Assembly" />
      <Dependency ID="Microsoft.SQLServer.CustomMonitoring.Module.Common.Assembly" />
      <Dependency ID="Newtonsoft.Json.Assembly" />
    </DeployableAssembly>
  </Resources>
</ManagementPack>